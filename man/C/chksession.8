.\" Written by Camille Bégnis 12/28/99
.TH CHKSESSION 8 "Aug 2003" "mandrake_desk" "MandrakeSoft"
.SH NAME
chksession \- Add/remove sessions from display managers
.SH SYNOPSIS
.B chksession 
[\fIOPTIONS\fR]...
.SH DESCRIPTION
.PP
.PP
\fBchksession\fR allows system root to control the window manager
lists for sessions initiated by gdm and kdm display managers. It
modifies respective configuration files to add or remove window
managers available for the sessions, like kde, gnome, icewm...
.TP
\fB\-F\fR, \fB\-\-first\fR
Print only first available entry of config file.
.TP
\fB\-d=DIR\fR, \fB\-\-dir=DIR\fR
Specifies the directory DIR containing the list of window manager files.
The default is \fI/etc/X11/wmsession.d/\fR.
.TP
\fB\-g\fR, \fB\-\-gdm\fR
Update window managers list for gdm sessions using default config file or FILE specified by \fB\-d\fR option.
.TP
\fB\-h\fR, \fB\-\-help\fR
Print a short help.
.TP
\fB\-k\fR, \fB\-\-kdm\fR
Update window managers list for kdm sessions using default config file or FILE specified by \fB\-d\fR option.
.TP
\fB\-l\fR, \fB\-\-list\fR
List window managers available in config file.
.TP
\fB\-r=ENTRY\fR, \fB\-\-remove=ENTRY\fR
Print to stdout the list of window managers as in config file, where ENTRY has been removed.
.TP
\fB\-t\fR, \fB\-\-test\fR
Enter test mode. Not to be used unless you know precisely what you are
doing. See TESTING.
.TP
\fB\-x=ENTRY\fR, \fB\-\-xsession=ENTRY\fR
Print to stdout the script used to launch the ENTRY window manager.
.SH "WINDOW MANAGERS CONFIGURATION FILES"
\fBchksession\fR uses a directory containing several window manager
description files (by default \fI/etc/X11/wmsession.d/\fR unless
specified by option \fB\-d\fR).  Each file contains the information to
briefly present the window manager and to start a session using it
(see examples in \fI/etc/X11/wmsession.d/\fR).  Each file name usually
begins with digits (2 digits), which are used to order the list of the
window managers they describe.
.br
Each file contains 4 definitions followed by a script:
.TP
.B NAME=<name>
specifies the name of the session in the displayed list of window managers.
.TP
.B ICON=<file>
icon file (\fI.xpm or .png\fR) used for this window manager.
.TP
.B DESC=<text>
short description of the window manager for a session.
.TP
.B EXEC=<path>
<path> must be the absolute path of an executable file for the window
manager.  It is used only to check that the window manager has
actually been installed.  If this definition is missing, or if the
file is not executable by effective uid/gid, then this window manager
description file is ignored.
.TP
.B SCRIPT:
shell script used to run the window manager chosen by the user.
.br
This script starts on the next line and may be composed of several
command lines. It must be the last part of the file, since it will
include all following lines to the end of file.
.PP
All other lines, preceeding the script, are ignored.
.SH FILES
\fB\/etc/X11/wmsession.d/\fR default directory of window manager
description files. It is the reference used by \fBchksession\fR to update
configuration files of both gdm and kdm display managers.
.SH "TESTING"
Option \fB\-t\fR or \fB\-\-test\fR may be used for testing only.  When
this option is active the behaviour may change in various way.  For
example: the default directory DIR containing the list of window
manager files may then be \fI./wmsession.d/\fR rather than
\fI/etc/X11/wmsession.d/\fR. Do not use it unless you know precisely
what you are doing.
.SH "REPORTING BUGS"
Report bugs to \fBhttp://www.mandrakeexpert.com/\fR.
.SH "SEE ALSO"
\fIxdm\fR(1)
.SH "AUTHOR"
Created by Camille Bégnis 12/28/99 - Modified by Bernard Lang 08/09/03.
.br
Last modified: August 21, 2003.
.SH COPYRIGHT
Copyright \(co 1999-2003 MandrakeSoft.
.br
This is a GPL free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

